{% extends "form_page.html" %}

{% block title %}
    <h1>Register for Frosh IMs</h1>
{% endblock %}
{% block form %}
    <p id="register-form-errors" style="color: red;"></p>
    <form action="./register" method="post">
        <input name="name" placeholder="Name" type="text" />
        <select name="dorm">
            <option value="" disabled selected>Dorm</option>
            <option value="Apley Court">Apley Court</option>
            <option value="Canaday">Canaday</option>
            <option value="Grays">Grays</option>
            <option value="Greenough">Greenough</option>
            <option value="Hollis">Hollis</option>
            <option value="Holworthy">Holworthy</option>
            <option value="Hurlbut">Hurlbut</option>
            <option value="Lionel">Lionel</option>
            <option value="Matthews">Matthews</option>
            <option value="Mower">Mower</option>
            <option value="Pennypacker">Pennypacker</option>
            <option value="Stoughton">Stoughton</option>
            <option value="Straus">Straus</option>
            <option value="Thayer">Thayer</option>
        </select>
        <br />
        <input type="submit" value="Register" />
    </form>
{% endblock %}
{% block bodyscripts %}
    <script>
        document.querySelector('form').onsubmit = function(event) {
            let errors = "";

            if (!document.querySelector('input').value) {
                errors += "You must provide your name"
            }

            if (!document.querySelector('select').value) {
                if (errors) {
                    errors += "<br />"
                }

                errors += "You must provide your dorm"
            }

            // set the errors
            if (errors) {
                document.querySelector('#register-form-errors').innerHTML = errors
                return false
            }

            return true;
        }
    </script>
{% endblock %}